<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <odoo>
    <template id="partner_portal_books_page" name="Portal Books Page">
        <t t-call="portal.portal_layout">
            <t t-set="title">My Books</t>

            <div class="container mt-4">
                <div class="row">
                    <t t-foreach="books" t-as="book">
                        <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                            <div class="card h-100 text-center shadow-sm">

                                <!-- Image -->
                                <div class="pt-3">
                                    <img t-att-src="'/web/image/library.management/%s/cover_image' % book.id"
                                         class="img-fluid rounded"
                                         style="max-height: 150px; object-fit: contain;" alt="Book Cover Image"/>
                                </div>

                                <!-- Name -->
                                <div class="card-body">
                                    <h6 class="card-title">
                                        <t t-esc="book.title"/>
                                    </h6>
                                    <span style="font-size: 10px;"><a t-att-href="book.book_web_link">
                                    Wikipedia
                                    <!-- <t t-esc="f'@{book.book_web_link}' if book.book_web_link else 'www.example.com'"/> -->
                                        </a>
                                    </span>
                                    <div class="row" style="padding-top: 10px;">
                                        <table>
                                            <thead class="text-muted" style="font-size: 12px;">
                                                <th class="text-start" style="padding-left: 20px;">Authors</th>
                                                <th class="text-start">Publisher</th>
                                            </thead>
                                            <tbody>
                                                <t t-set="publisher" t-value=""/>
                                                <tr t-foreach="book.authors_ids" t-as="author" style="font-size: 14px;">
                                                    <td class="text-start" style="padding-left: 20px;">
                                                        <strong><t t-esc="author.name"/></strong>
                                                    </td>
                                                    <td t-if="not publisher" class="text-center badge rounded-pill bg-secondary">
                                                        <t t-set="publisher" t-value="book.publisher_id.name"/>
                                                        <strong><t t-esc="publisher"/></strong>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>
</odoo>


</odoo>
